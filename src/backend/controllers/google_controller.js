import { google } from 'googleapis';


// console.info( process.env.GOOGLE_CLIENT_ID);
// console.info( process.env. GOOGLE_CLIENT_SECRET)

const oAuth2Client = new google.auth.OAuth2(
    process.env.CLIENT_ID,
    process.env.CLIENT_SECRET,
    'postmessage',
  );

export const createToken=async(req,res,next)=>{
 try {
    const{tokens}= await oAuth2Client.getToken(req.body.code);
     console.log(tokens);

     res.json(tokens);
 } catch (error) {
    next(error);
 }
}

//credentials=eyJhbGciOiJSUzI1NiIsImtpZCI6IjY3NGRiYmE4ZmFlZTY5YWNhZTFiYzFiZTE5MDQ1MzY3OGY0NzI4MDMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI1MDM2OTAxNTI0MTQta3NocjVnMXIxcjZxcjU5Zjdva20wbzU5MDk1N3M5cmkuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI1MDM2OTAxNTI0MTQta3NocjVnMXIxcjZxcjU5Zjdva20wbzU5MDk1N3M5cmkuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDYzMjY3MDIwMTcyNjQ1MzY2NTEiLCJlbWFpbCI6InBhd2FydmFpc2huYXZpMDY0MEBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmJmIjoxNzE3NzY1MTQ1LCJuYW1lIjoiVmFpc2huYXZpIFBhd2FyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0pkZUhuMTNyc09kSi04UUI3RlZoSmU4MC1DNUNWczN2bk9EN1VmN3MtdW5BdzBfdz1zOTYtYyIsImdpdmVuX25hbWUiOiJWYWlzaG5hdmkiLCJmYW1pbHlfbmFtZSI6IlBhd2FyIiwiaWF0IjoxNzE3NzY1NDQ1LCJleHAiOjE3MTc3NjkwNDUsImp0aSI6IjU4OWQwNTI5NDUzODRmZjI4M2I3ZjlmYzUzMmY1MTY0NTQzMGJiZDAifQ.cQ9MNgXMLY4PEne0gkPlEQAoEaFMDEj8EN7DD_tOLIzuEC1HDTgCuvMJQv4AQQC4hXchLKP22jPaE2-XrDNxcXzjou9gxn8IMdWuUKh8OaK2r2fDwpUYH7oYMiSt63k28QXQ3zXtrTKQ4Gc1CF8A67QN1VL9rBrHZ23B0b1Xz2N38BLy8ITJSHWmszwJNNyGCuBIGIr71t-df1svuFXPeMHPwHlsTW1I2PTlI_qvmsQY7fpId88G-a3575MupVu8eOrxW2UofaXalqCm7Y5P0uVWOXKLwpMtc4YEQIGhOyR5Z9LTtU7P1o6U31ObZQRBUnchYdoWgwfNZBSl9kjquA